<!DOCTYPE html>
<html>

<head>
    <title>My App</title>
    <style type="text/css">
        .article .content {
            display: none;
        };
        .excerpt{
            display: block;
        }

    </style>
</head>

<body>
    <h1>Content</h1>

    <div class="article">


        <ul>



            {% for row in sites %}
            <li>{{ row['Date'] }}, <strong>{{ row['Name'] }}</strong>, <button class="read-more-button">阅读全文</button><br/>
                {{ row['URL'] }},
                <p class="excerpt">{{row['content'][0:200] }}</p>
                <p class="content" style="display: none;">{{row['content'] }}</p>
                
            </li>
            {% endfor %}
        </ul>
    </div>
</body>

<script>
    const readMoreButtons = document.querySelectorAll('.read-more-button');
    readMoreButtons.forEach(button => {
        button.addEventListener('click', () => {
            const article = button.parentNode;
            const excerpt = article.querySelector('.excerpt');
            const content = article.querySelector('.content');
            
            if (content.style.display === 'none') {
                content.style.display = 'block';
                excerpt.style.display = 'none';
                button.textContent = '收起全文';
            } else {
                content.style.display = 'none';
                excerpt.style.display = 'block';
                button.textContent = '阅读全文';
            }
            // content.style.display = 'block';
            // excerpt.style.display = 'none';
        });
    });
</script>

</html>